# 2.执行上下文

### 2.1解析代码

- 在V8引擎解析JavaScript代码时，会生成一个全局对象（GlobalObject =>go）
	- 在全局对象中如果有函数，那么会在内存中创建一个函数对象，函数对象中保存着该函数的父级作用域以及要执行的代码，全局对象中保存着该函数对象的地址

### 2.2运行代码

- v8为了执行代码, v8引擎内部会有一个执行上下文栈(Execution Context Stack, ECStack)(函数调用栈)
- 因为我们执行的是全局代码, 为了全局代码能够正常的执行, 需要创建 全局执行上下文(Global Execution Context)(全局代码需要被执行时才会创建)
	- 全局执行上下文中保存着VO(variable Object): GO（也就是全局对象）
- 当我们执行的是函数，会创建函数执行上下文(Function Execution Context)(函数需要被执行时才会创建)
	- 函数执行上下文中保存着VO(variable Object): AO（AO是在函数对象被执行时新创建的对象，保存着函数中的属性），同时还保存着父级作用域
	- 当我们查找一个变量时,真实的查找路径是沿着作用域链来查找
- 当函数执行完毕后，函数执行上下文就会被销毁，对应的AO也会被销毁，紧接着代码执行完毕，全局执行上下文也会被销毁



